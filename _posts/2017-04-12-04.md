---
layout:     post
title:      "Forth Day"
author:     "dushuai"
tags:
    - experience
---

> 函数 until循环

<!--more-->

---

## 1.目标


1. 了解模块化编程的好处
2. 掌握如何定义自己的函数
3. 掌握如何使用until循环

## 2.模块化编程

随着待解决的问题越来越复杂,我们的程序也越来越复杂。对于复杂问题,如果仅仅依靠以前的结构化编程方法,必然会因为两方面的复杂而导致编程越来越困难:一是在广度上有成千上万行的代码,二是在深度上有多层嵌套的结构。为了简化复杂程序在代码形式上的复杂性,以便更好的理解和编写复杂程序,计算机科学家提出了模块化编程方法。

模块化编程的优点：
    
    1. 容易设计：从整个功能入手时不需要考虑细节如何实现，只考虑怎么把大问题分解为小问题
    2. 容易实现：分解后的问题往往比较适合一个人开发，当然了，如果分解后的问题仍然比较复杂，我们可以进一步分解，然后逐个实现
    3. 容易测试：每一个小问题的实现是分开的，我们不需要一开始就对整体进行测试
    4. 容易维护：如果程序出了问题，我们可以很精确的定位到哪一个小问题小模块没写对，然后把他替换掉
    5. 可以重用：许多小的模块往往可以直接拿到另一个问题中作为一个小问题的解决方案

在数学中,函数是一种映射,其功能是将自变量的值(输入)映射到一个函数值(输出)，比如y=x+2。编程语言中的函数是一段程序代码,其功能是根据输入(参数)进行计算,并产生输出(返回值)。函数是一种常见的子程序构造方式,是模块化编程的基本工具。函数也可以只做一些操作而不返回任何东西，这样的函数我们更倾向于叫他过程。咱们这一节要学习的就是构造这个没有返回值的函数。

在70关到74关的过程中，我们会发现有一部分代码经常被用到：让老鼠走到某个地方，即让老鼠转向目标，再让老鼠走与目标的距离那么远的路。很自然的，我们会想到把这个问题作为一个小问题解决掉，74关的示例代码中就把走到某地分解出来单独实现，在需要走到某地的时候直接调用这个子问题的解决方案。

## 3. 函数

我们使用的指令是预先定义好的函数。比如说 step,turnTo,grab()和 drop()指令是不需要我们定义就可以使用的,这是因为这两个指令已经被定义过了。进度比较快的同学还会注意到一件事情,我们最开始写goto 函数的时候都要先定义 goto 函数,但是到了后面的关卡,goto 就可以当一个预先定义好的指令来使用了。明确这件事之后呢,指令和函数其实是亲兄弟啦,我们可以用之前学过的指令来理解一下刚才说的程序函数和数学函数的不同点。 有同学问了这样一个问题，既然指令必须先定义才能使用，那么step指令又是靠什么指令定义的呢，定义step指令的指令又是怎么定义的呢。 其实，我们的电脑硬件本身就提供了一系列的指令，这些指令是靠一些物理学原理来实现的。

让我们来看一下函数到底是怎么定义的：函数定义分为函数名+参数和函数体。函数体就是一系列的指令，用于完成一些操作，而函数名是你给你定义的这个新指令起的名称，参数就是你这个指令完成所需要的其他信息。比如goto函数，你也可以改名叫他runto，你以后使用的时候也必须使用这个名称。goto函数的作用是让老鼠走到某个地方，而这个地方就是你需要的额外信息，需要在使用的时候确定，使用的时候和turnTo一样给定一个目标，```goto match```就是走到match那里。而我们在定义goto时这个地方就可以先假设他是t，然后我们在函数体里使用t来让老鼠走到t。

```
函数名 = (参数) ->
    #函数体在这里
    #可以很长
    #但是必须缩进相同的空格
```

## 4. until循环

until (condition)循环在其他编程语言里一般对应while(not condition)循环，都是在某个条件成立时停止循环。这种循环适合在每一次循环后都需要进行条件判断的情况使用。之前说过所有的循环都是等价的，也就是说until循环可以和for循环，times循环等等转化，在for循环或者times循环中加上条件判断语句以及相应的跳转指令就可以和until有相同的效果。显然这样有需要条件判断来决定是否继续循环的状况下until循环更容易使用。 由于有蚂蚁搬动火柴，我们并不能事先了解火柴的位置，所以才需要每次循环后都判断一下是否已经到达火柴的位置，如果没有，继续再循环体里向着火柴移动距离为1的路程。

```
until near match:
    turnTo match
    step distanceTo match
```