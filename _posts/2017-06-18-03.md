---
layout:     post
title:      "Third Day"
author:     "dushuai"
tags:
    - experience
---

> 变量 数学运算 获得输入

<!--more-->

---

## 1. 签到&暖场

开场7点时，跟大家打招呼以及提醒大家开始签到。根据签到情况，若3~4分钟内还有学生没有签到，便告知大家不再等待，仍未签到的同学错过教学的同学可以仔细察看群里的教学记录，有疑问可以课后或者答疑时询问。

同时可以在这段时间内询问一下同学对该次教学的期望，建议和意见。同时可以讲讲计算机是如何存储数字以及字符的，提一提各种字符编码，比如为什么使用中文的Python代码前要加```# -*-coding=utf-8```。

## 2. 本章知识点总结

> 概述：创建存储数字、字符串和列表的变量，分辨Python中的不同的数据类型之间的区别，通过使用所有的运算符在Python中完成基本的数学运算，通过添加注释帮助我们构建自己的代码，在各种情况下获得用户的输入并使用该输入使我们的程序更加可定制化。

### 2.1 变量和常量

在程序中如何指明要处理的数据？所有编程语言都提供两种指明数据的方式：第一，直接用字面值（literal）表示数据，即从文本字面上即可看出是什么数据，这种数据是不会变的常量；第二，将数据存储在一个变量中，以后用该变量来指代数据。

回顾我们写的第一个程序中：“Hello World”就是以字面值的形式指明 ```print``` 命令要操作的数据。我们也可以先将数据"Hello World!"存储在变量 s 当中，然后通过引用 s 来指明 print 要操作的数据。

```
>>> s = "Hello world!"
>>> print(s)
Hello world!
>>> 
```

字面值的意义是不可改变的，而变量的意义（即变量存储的值）是可以改变的。显然，使用变量可以使程序具有一般性，因为只要为变量赋予不同的值，程序就可以对不同数据进行处理。变量只是一个“占位符“，必须用具体数据赋值后才有意义。正如我们已经多次见到的，赋值语句的语法形式是： ```<变量> = <表达式>``` 其中等号表示赋值，等号左边是一个变量，右边是一个表达式（由常量、变量和运算符构成）。一个变量如果未赋值，则称该变量是“未定义的”。在程序中使用未定义的变量会导致语法错误。 

### 2.2 数据类型

#### 2.2.1 数值类型

对于数值类型，最常用的数值类型包括整数和浮点数类型。
整数就是没有小数部分的数值，分为正整数、0 和负整数。Python 语言提供了类型 ```int``` 用于表示现实世界中的整数信息。整数字面值是不能包含小数点的，即使小数点后面什么都没有。Python 语言为整数类型提供了通常的数学运算，运算符及其含义如下表所示：

符号 | + | - | * | // | / | ** | % 
-- | -- | -- | --| - | - | -- | --
含义 | 加 | 减 | 乘 | 整除 | 除 | 乘方 | 取余

计算机实现的整数运算基本上和我们在数学课上所学的一样，除了一个例外—— 整除。由于例中的 11//3 是整数类型上的除法，运算结果仍然在整数类型当中，所以 Python 将商的小数部分直接舍弃了(**未作四舍五入**），从而结果为 3，但是如果使用11/3则会得到近似正确的浮点数结果。

浮点数就是包含小数点的数，大体对应于数学中的实数集合。Python 语言提供了类型 ```float``` 用于表示浮点数。```float``` 类型的字面值形式与数学中的写法基本一致，例如下列字面值都是浮点数： 3.1415 和 -6.78 和 123.0 和  0. 以及  -6. 。

不同的数值类型进行相互运算时，可以进行自动类型转换。由于整数和浮点数都是数值（在数学上都属于实数集合R），因此 Python 允许它们混合运算。Python在对混合类型的表达式进行求值时，首先将 int 类型转换成 float，然后再执行 float 运算，结果为 float 类型。

### 2.2.2 字符串类型

字符是计算机中表示信息的小符号，常见的大小写字母、阿拉伯数字、标点符号等都是字符。除了这些看得见的“可打印字符”，还有一些看不见的“控制字符”，例如回车、换 行、退格等等。字符串是由字符组成的序列，在程序中作为被处理的数据。Python 语言提供了字符串数据类型 str，并且在表示字符串数据方面比其他语言更灵活。用单引号或双引号括起来的字符串必须在一行内表示，三个双引号的字符串可以跨行表示。我们之前的颜色列表中的所有元素都是字符串，比如'red'，'yellow'。

程序中有时需要将字符串类型的数据转换成其他数据类型，或者相反。下面介绍 Python 中如何实现这些功能。 首先看我们要使用到的函数 ```eval()```。eval 的主要用途是对字符串形式的数值表达式求值。eval 函数接收一个字符串，并将该字符串解释成 Python 表达式进行求值，最终得到特定类型的结果值；如果字符串无法解释成合法的 Python 表达式则会报错（如语法错误、未定义变量错误等）。如果字符串的形状符合某种类型的字面值的形式，则可以直接用 int()、long()、 float()、bool()等来转换类型。如果希望将其他类型的值转换成字符串类型，可以使用 str()函数。

```
>>> int("123")
123
>>> float("123.45")
123.45
>>> str(123)
'123'
>>> 
```

### 2.2.3 列表类型

整数类型、浮点数类型都是简单的“原子”数据类型，因为这些类型的值是不可分割的基本数据项。我们可以用列表表示很多值聚在一起形成的复合值。列表（list）是由若干数据组成的序列（sequence）。构成列表的数据既能作为一个整体去参加运算，也可以作为个体去参加运算。Python 提供了内建类型 list 以支持列表数据的表示和操作。

Python 列表类型的字面值采用如下形式： [<表达式 1>, <表达式 2>, ..., <表达式 n>] 即用一对方括号将以逗号分隔的若干数据（表达式的值）括起来。列表中成员的个数称为列表的长度，可以用 len()函数求得。就像数学里有空集一样，不含任何成员的列表也是有意义的，称为空列表，用一对方括号[]表示。空列表的长度当然为 0 啦。

为了对列表进行操作，Python 提供了列表成员的索引机制，即通过位置编号来引用列表成员。列表中第一个成员的索引为 0，第二个成员的索引为 1，其余依此类推。通过索引操作访问列表成员的一般形式如下： <列表>[<数值表达式>] 其中数值表达式的值就是位置索引，整个索引操作的返回结果就是索引位置上的成员。如果索引超出了范围，则导致出错。

## 3. 挑战答案

#### 3.1 circleSpiralInput

将colorSpiralInput改为circleSpiralInput，使得用户输入边数之后，程序绘制相应数目的圆圈螺旋。

像上一节课的第一个挑战一样，我们需要把方形螺旋改为圆圈螺旋，那么唯一需要更改的地方就是倒数地三行的```t.forward()```，改为```t.circle()```即可。

![](/assets/img/2-1.png)
输入为4时的结果如图所示

```
import turtle
t = turtle.Pen()
t.speed(0)
turtle.bgcolor('black')
sides = int(input("How many sides in your spiral?"))
colors = ['red', 'yellow', 'blue', 'orange', 'green', 'purple']
for x in range(360):
    t.pencolor(colors[x%sides%len(colors)])
    #t.forward(x*3/sides+x)
    t.circle(x*3/sides)
    t.left(360/sides+1)
    t.width(x*sides/200)
```

### 3.2 FunStory

选取一个简单的故事或者童谣，把其中的一个名词一个动词一个形容词去掉，向用户询问相应内容，然后组成一个新的有趣的故事。

我们只需要三个input语句获得用户的输入以及一个print语句，用逗号分割开各个部分即可。

![](/assets/img/3-1.png)

```
adjective = input("请输入一个形容词： ")
noun = input("请输入一个名词： ")
verb = input("请输入一个动词： ")
print("你的有趣的小故事：")
print("钢铁侠和", noun, "在", adjective, "青青大草原上", verb) 
```

## 4. 常见问题及易错点

### 4.1 列表下标计数问题

对于编程语言来说下标从0开始会大大简化寻址计算！ 越是多维列表效果越明显，比如我知道了列表的起始地址，那么第一个元素的地址就是起始地址加0，第二个就是起始地址加1。因此早期的编程语言大都是从0开始计数，后来这就成了惯例，其他高级语言也使用这种规则方便程序员的学习以及使用。但是也存在一些语言不是从0开始计数的，比如MATLAB，下标1对应的就是第一个元素。

### 4.2 赋值号和等号问题

一般来说```=```表示赋值号，表示将右侧表达式的值赋值给左侧变量，而```==```才表示等于的意思，表示将左右两侧表达式的值进行比较，如果相等则结果为```True```，否则为```False```。

## 5. 课外拓展

### 5.1 格式化输出

print语句中有格式字符串和输出项组成

格式字符串是由格式字符（包括：转换说明符、标志、域宽、精度）和普通字符组成，转换说明符和百分号（%）一起使用，用来说明输出数据的数据类型、标志、长度和精度。

输出项列表可以是常量、变量和表达式，也可以没有输出项，这些输出项必须与格式控制字符串在类型和数量上完全对应，否则，结果将不可预测。

```
#带有5位小数的浮点数格式
print("%.5f" %5)#输出5.00000

#带有三位小数的科学表达式格式
print("%.3e" %2016)#输出2.016e+03

#一个整数，空格，一个字符串
print("%d %s" %(123456,"hello"))#输出123456 hello
```